(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[830],{479:(e,s,a)=>{Promise.resolve().then(a.bind(a,3611))},3386:()=>{},3611:(e,s,a)=>{"use strict";a.d(s,{default:()=>g});var l=a(5155),t=a(2115),r=a(4653),d=a(3464),n=a(4514),i=a(4752),c=a.n(i);let o=e=>{let{isOpen:s,closeModal:a}=e,[r,i]=(0,t.useState)({name:"",email:"",phone:"",address:""}),o=JSON.parse(localStorage.getItem("customerDetails"))||{};(0,t.useEffect)(()=>{o&&i({name:o.name||"",email:o.email||"",phone:o.phone||"",address:o.address||""})},[s]);let x=e=>{i({...r,[e.target.name]:e.target.value})},m=async e=>{e.preventDefault();try{let e=await d.A.put("".concat(n.C1,"/customer/").concat(o._id),r);c().fire({icon:"success",title:"Success!",text:"Customer updated successfully!"}),localStorage.setItem("customerDetails",JSON.stringify(e.data)),a()}catch(e){var s,l;c().fire({icon:"error",title:"Oops...",text:(null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.message)||"Update failed."})}};return(0,l.jsx)("div",{className:"fixed top-0 left-0 overflow-y-auto no-scrollbar w-full h-screen sm:py-20 xl:py-25 2xl:py-[230px] bg-dark/70 sm:px-8 px-4 py-5 ".concat(s?"block z-99999":"hidden"),children:(0,l.jsx)("div",{className:"flex items-center justify-center ",children:(0,l.jsxs)("div",{"x-show":"addressModal",className:"w-full max-w-[1100px] rounded-xl shadow-3 bg-white p-7.5 relative modal-content",children:[(0,l.jsx)("button",{onClick:a,"aria-label":"button for close modal",className:"absolute top-0 right-0 sm:top-3 sm:right-3 flex items-center justify-center w-10 h-10 rounded-full ease-in duration-150 bg-meta text-body hover:text-dark",children:(0,l.jsx)("svg",{className:"fill-current",width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3108 13L19.2291 8.08167C19.5866 7.72417 19.5866 7.12833 19.2291 6.77083C19.0543 6.59895 18.8189 6.50262 18.5737 6.50262C18.3285 6.50262 18.0932 6.59895 17.9183 6.77083L13 11.6892L8.08164 6.77083C7.90679 6.59895 7.67142 6.50262 7.42623 6.50262C7.18104 6.50262 6.94566 6.59895 6.77081 6.77083C6.41331 7.12833 6.41331 7.72417 6.77081 8.08167L11.6891 13L6.77081 17.9183C6.41331 18.2758 6.41331 18.8717 6.77081 19.2292C7.12831 19.5867 7.72414 19.5867 8.08164 19.2292L13 14.3108L17.9183 19.2292C18.2758 19.5867 18.8716 19.5867 19.2291 19.2292C19.5866 18.8717 19.5866 18.2758 19.2291 17.9183L14.3108 13Z",fill:""})})}),(0,l.jsx)("div",{children:(0,l.jsxs)("form",{children:[(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-5 sm:gap-8 mb-5",children:[(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("label",{htmlFor:"name",className:"block mb-2.5",children:"Name"}),(0,l.jsx)("input",{type:"text",name:"name",value:r.name,onChange:x,placeholder:null==o?void 0:o.name,className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("label",{htmlFor:"email",className:"block mb-2.5",children:"Email"}),(0,l.jsx)("input",{type:"email",name:"email",value:r.email,onChange:x,placeholder:null==o?void 0:o.email,className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]})]}),(0,l.jsx)("div",{className:"flex flex-col lg:flex-row gap-5 sm:gap-8 mb-5",children:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("label",{htmlFor:"phone",className:"block mb-2.5",children:"Phone"}),(0,l.jsx)("input",{type:"text",name:"phone",value:r.phone,onChange:x,placeholder:null==o?void 0:o.phone,className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]})}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("label",{htmlFor:"address",className:"block mb-2.5",children:"Address"}),(0,l.jsx)("textarea",{rows:5,name:"address",value:r.address,onChange:x,placeholder:null==o?void 0:o.address,className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,l.jsx)("button",{type:"submit",onClick:m,className:"inline-flex font-medium text-white bg-blue py-3 px-7 rounded-md ease-out duration-200 hover:bg-blue-dark",children:"Update Changes"})]})})]})})})},x=e=>{let{toggleEdit:s,toggleDetails:a}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("button",{onClick:a,className:"hover:bg-gray-2 rounded-sm p-2",children:(0,l.jsxs)("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.99935 4.87504C7.27346 4.87504 5.87435 6.27415 5.87435 8.00004C5.87435 9.72593 7.27346 11.125 8.99935 11.125C10.7252 11.125 12.1243 9.72593 12.1243 8.00004C12.1243 6.27415 10.7252 4.87504 8.99935 4.87504ZM7.12435 8.00004C7.12435 6.96451 7.96382 6.12504 8.99935 6.12504C10.0349 6.12504 10.8743 6.96451 10.8743 8.00004C10.8743 9.03557 10.0349 9.87504 8.99935 9.87504C7.96382 9.87504 7.12435 9.03557 7.12435 8.00004Z",fill:"#495270"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.99935 0.708374C5.23757 0.708374 2.70376 2.96187 1.23315 4.87243L1.20663 4.90687C0.874048 5.33882 0.567732 5.73664 0.359922 6.20704C0.137386 6.71077 0.0410156 7.25978 0.0410156 8.00004C0.0410156 8.7403 0.137386 9.28932 0.359922 9.79304C0.567734 10.2634 0.87405 10.6613 1.20664 11.0932L1.23316 11.1277C2.70376 13.0382 5.23757 15.2917 8.99935 15.2917C12.7611 15.2917 15.2949 13.0382 16.7655 11.1277L16.792 11.0932C17.1246 10.6613 17.431 10.2634 17.6388 9.79304C17.8613 9.28932 17.9577 8.7403 17.9577 8.00004C17.9577 7.25978 17.8613 6.71077 17.6388 6.20704C17.431 5.73663 17.1246 5.33881 16.792 4.90685L16.7655 4.87243C15.2949 2.96187 12.7611 0.708374 8.99935 0.708374ZM2.2237 5.63487C3.58155 3.87081 5.79132 1.95837 8.99935 1.95837C12.2074 1.95837 14.4172 3.87081 15.775 5.63487C16.1405 6.1097 16.3546 6.39342 16.4954 6.71216C16.627 7.01005 16.7077 7.37415 16.7077 8.00004C16.7077 8.62593 16.627 8.99003 16.4954 9.28792C16.3546 9.60666 16.1405 9.89038 15.775 10.3652C14.4172 12.1293 12.2074 14.0417 8.99935 14.0417C5.79132 14.0417 3.58155 12.1293 2.2237 10.3652C1.85821 9.89038 1.64413 9.60666 1.50332 9.28792C1.37171 8.99003 1.29102 8.62593 1.29102 8.00004C1.29102 7.37415 1.37171 7.01005 1.50332 6.71216C1.64413 6.39342 1.85821 6.1097 2.2237 5.63487Z",fill:"#495270"})]})})})},m=e=>{var s;let{orderItem:a}=e,t=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return(0,l.jsx)("div",{className:"w-full max-h-[80vh] overflow-y-auto p-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Order Details"}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("span",{className:"text-lg font-medium text-red",children:null==a?void 0:a.orderId}),(0,l.jsx)("span",{className:"inline-block text-sm py-1 px-3 rounded-full capitalize ".concat((e=>{let s=(null==e?void 0:e.toLowerCase())||"";return"delivered"===s?"text-green bg-green-light-6":"pending"===s||"on-hold"===s?"text-red bg-red-light-6":"processing"===s||"packing"===s?"text-yellow bg-yellow-light-4":"text-gray bg-gray-light"})(null==a?void 0:a.orderStatus)),children:(null==a?void 0:a.orderStatus)||"Unknown"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-800 border-b border-gray-200 pb-2",children:"Customer Information"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-gray-600",children:"Name: "}),(0,l.jsx)("span",{className:"text-gray-800",children:(null==a?void 0:a.customerName)||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-gray-600",children:"Email: "}),(0,l.jsx)("span",{className:"text-gray-800",children:(null==a?void 0:a.email)||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-gray-600",children:"Phone: "}),(0,l.jsx)("span",{className:"text-gray-800",children:(null==a?void 0:a.phone)||"N/A"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-800 border-b border-gray-200 pb-2",children:"Order Information"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-gray-600",children:"Order Date: "}),(0,l.jsx)("span",{className:"text-gray-800",children:t(null==a?void 0:a.orderDate)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-gray-600",children:"Delivery Date: "}),(0,l.jsx)("span",{className:"text-gray-800",children:(null==a?void 0:a.deliveryDate)?t(a.deliveryDate):"Not scheduled"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-gray-600",children:"Payment Method: "}),(0,l.jsx)("span",{className:"text-gray-800",children:(null==a?void 0:a.paymentMethod)||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-gray-600",children:"Payment Status: "}),(0,l.jsx)("span",{className:"inline-block text-sm py-1 px-2 rounded-full capitalize ".concat((e=>{let s=(null==e?void 0:e.toLowerCase())||"";return"paid"===s?"text-green bg-green-light-6":"unpaid"===s?"text-red bg-red-light-6":"partial"===s?"text-yellow bg-yellow-light-4":"text-gray bg-gray-light"})(null==a?void 0:a.paymentStatus)),children:(null==a?void 0:a.paymentStatus)||"Unknown"})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-800 border-b border-gray-200 pb-2",children:"Delivery Address"}),(0,l.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{children:(null==a?void 0:a.address)||"N/A"}),(null==a?void 0:a.address1)&&(0,l.jsx)("div",{children:a.address1}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("span",{children:(null==a?void 0:a.city)||"N/A"}),(0,l.jsx)("span",{children:(null==a?void 0:a.state)||"N/A"}),(0,l.jsx)("span",{children:(null==a?void 0:a.Pincode)||"N/A"})]}),(0,l.jsx)("div",{children:(null==a?void 0:a.country)||"N/A"})]})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-800 border-b border-gray-200 pb-2",children:"Package Details"}),(0,l.jsx)("div",{className:"space-y-3",children:null==a?void 0:null===(s=a.package)||void 0===s?void 0:s.map((e,s)=>{var a,t,r,d,i,c,o,x;return(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(null==e?void 0:null===(a=e.packageDetails)||void 0===a?void 0:a.image)&&(0,l.jsx)("img",{src:"".concat(n.C1,"/images/").concat(null==e?void 0:null===(t=e.packageDetails)||void 0===t?void 0:t.image),alt:(null==e?void 0:null===(r=e.packageDetails)||void 0===r?void 0:r.packagename)||"Package",className:"w-16 h-16 object-cover rounded-lg"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-800",children:(null==e?void 0:null===(d=e.packageDetails)||void 0===d?void 0:d.packagename)||(null==e?void 0:e.title)||"Unknown Package"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Category: ",(null==e?void 0:null===(c=e.packageDetails)||void 0===c?void 0:null===(i=c.category)||void 0===i?void 0:i.name)||"N/A"]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",(null==e?void 0:null===(o=e.packageDetails)||void 0===o?void 0:o.quantity)||1]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"font-medium text-gray-800",children:["₹",(null==e?void 0:null===(x=e.packageDetails)||void 0===x?void 0:x.price)||0]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"per item"})]})]},s)})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-800 border-b border-gray-200 pb-2",children:"Payment Summary"}),(0,l.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Total Amount:"}),(0,l.jsxs)("span",{className:"font-medium text-gray-800",children:["₹",(null==a?void 0:a.totalAmount)||0]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Paid Amount:"}),(0,l.jsxs)("span",{className:"font-medium text-green",children:["₹",(null==a?void 0:a.paidAmount)||0]})]}),(0,l.jsxs)("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Balance Amount:"}),(0,l.jsxs)("span",{className:"font-medium text-red",children:["₹",(null==a?void 0:a.balanceAmount)||0]})]})]})]}),(null==a?void 0:a.note)&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-800 border-b border-gray-200 pb-2",children:"Order Notes"}),(0,l.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,l.jsx)("p",{className:"text-gray-700",children:a.note})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-800 border-b border-gray-200 pb-2",children:"Delivery Information"}),(0,l.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Delivery Status:"}),(0,l.jsx)("span",{className:"font-medium text-gray-800",children:(null==a?void 0:a.deliveryStatus)||"Pending"})]}),(null==a?void 0:a.deliveryDate)&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Expected Delivery:"}),(0,l.jsx)("span",{className:"font-medium text-gray-800",children:t(a.deliveryDate)})]})]})]})]})})},u=e=>{let{showDetails:s,showEdit:a,toggleModal:t,order:r}=e;return s||a?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"backdrop-filter-xl visible fixed left-0 top-0 z-[99999] flex min-h-screen w-full justify-center items-center bg-[#000]/40 px-4 py-8 sm:px-8",children:(0,l.jsxs)("div",{className:"shadow-7 relative w-full  scale-100 transform rounded-[15px] bg-white transition-all flex flex-col justify-center items-center",children:[(0,l.jsx)("button",{onClick:()=>t(!1),className:"text-body absolute -right-6 -top-6 z-[9999] flex h-11.5 w-11.5 items-center justify-center rounded-full border-2 border-stroke bg-white hover:text-dark",children:(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M12.9983 10.586L17.9483 5.63603L19.3623 7.05003L14.4123 12L19.3623 16.95L17.9483 18.364L12.9983 13.414L8.04828 18.364L6.63428 16.95L11.5843 12L6.63428 7.05003L8.04828 5.63603L12.9983 10.586Z",fill:"currentColor"})})}),(0,l.jsx)(l.Fragment,{children:s&&(0,l.jsx)(m,{orderItem:r})})]})})}):null},h=e=>{var s,a;let{orderItem:r,smallView:d}=e,[n,i]=(0,t.useState)(!1),[c,o]=(0,t.useState)(!1),m=()=>{i(!n)},h=()=>{o(!c)},p=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),g=e=>{let s=e.toLowerCase();return"delivered"===s?"text-green bg-green-light-6":"pending"===s||"on-hold"===s?"text-red bg-red-light-6":"processing"===s||"packing"===s?"text-yellow bg-yellow-light-4":"text-gray bg-gray-light"};return(0,l.jsxs)(l.Fragment,{children:[!d&&(0,l.jsxs)("div",{className:"items-center justify-between border-t border-gray-3 py-5 px-7.5 hidden md:flex",children:[(0,l.jsx)("div",{className:"min-w-[111px]",children:(0,l.jsx)("p",{className:"text-custom-sm text-red",children:r.orderId})}),(0,l.jsx)("div",{className:"min-w-[175px]",children:(0,l.jsx)("p",{className:"text-custom-sm text-dark",children:p(r.orderDate)})}),(0,l.jsx)("div",{className:"min-w-[128px]",children:(0,l.jsx)("p",{className:"inline-block text-custom-sm py-0.5 px-2.5 rounded-[30px] capitalize ".concat(g(r.orderStatus)),children:r.orderStatus})}),(0,l.jsx)("div",{className:"min-w-[213px]",children:(0,l.jsx)("div",{className:"text-custom-sm text-dark flex flex-col gap-1",children:null===(s=r.package)||void 0===s?void 0:s.map((e,s)=>{var a,t;return(0,l.jsxs)("span",{children:[e.title||(null==e?void 0:null===(a=e.packageDetails)||void 0===a?void 0:a.packagename)||""," x ",null==e?void 0:null===(t=e.packageDetails)||void 0===t?void 0:t.quantity]},s)})})}),(0,l.jsx)("div",{className:"min-w-[113px]",children:(0,l.jsxs)("p",{className:"text-custom-sm text-dark",children:["₹ ",r.totalAmount]})}),(0,l.jsx)("div",{className:"flex gap-5 items-center",children:(0,l.jsx)(x,{toggleDetails:m,toggleEdit:h})})]}),d&&(0,l.jsx)("div",{className:"block md:hidden",children:(0,l.jsxs)("div",{className:"py-4.5 px-7.5",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"text-custom-sm text-dark",children:[(0,l.jsx)("span",{className:"font-bold pr-2",children:"Order:"})," #",r.orderId.slice(-8)]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"text-custom-sm text-dark",children:[(0,l.jsx)("span",{className:"font-bold pr-2",children:"Date:"}),p(r.orderDate)]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"text-custom-sm text-dark",children:[(0,l.jsx)("span",{className:"font-bold pr-2",children:"Status:"}),(0,l.jsx)("span",{className:"inline-block text-custom-sm py-0.5 px-2.5 rounded-[30px] capitalize ".concat(g(r.orderStatus)),children:r.orderStatus})]})}),(0,l.jsxs)("div",{className:"text-custom-sm text-dark",children:[(0,l.jsx)("span",{className:"font-bold pr-2",children:"Titles:"}),(0,l.jsx)("div",{className:"flex flex-col gap-1 pl-2",children:null===(a=r.package)||void 0===a?void 0:a.map((e,s)=>{var a,t;return(0,l.jsxs)("span",{children:[e.title||(null==e?void 0:null===(a=e.packageDetails)||void 0===a?void 0:a.packagename)||""," x ",null==e?void 0:null===(t=e.packageDetails)||void 0===t?void 0:t.quantity]},s)})})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"text-custom-sm text-dark",children:[(0,l.jsx)("span",{className:"font-bold pr-2",children:"Total:"})," ₹",r.totalAmount]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"text-custom-sm text-dark flex items-center",children:[(0,l.jsx)("span",{className:"font-bold pr-2",children:"Actions:"}),(0,l.jsx)(x,{toggleDetails:m,toggleEdit:h})]})})]})}),(0,l.jsx)(u,{showDetails:n,toggleModal:e=>{i(e),o(e)},order:r})]})},p=()=>{let[e,s]=(0,t.useState)([]),[a,r]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{let e=localStorage.getItem("customerDetails"),a=e?JSON.parse(e):null,l=(null==a?void 0:a._id)||(null==a?void 0:a.id);l?(0,n.Gb)(l).then(e=>{console.log("API Response:",e),e&&e.orders?s(e.orders):Array.isArray(e)?s(e):s([])}).catch(e=>{console.error("Error fetching orders:",e),s([])}).finally(()=>{r(!1)}):(console.log("No customer ID found"),r(!1))},[]),console.log("Orders state:",e),console.log("Orders length:",e.length),a)?(0,l.jsx)("div",{className:"py-9.5 px-4 sm:px-7.5 xl:px-10",children:(0,l.jsx)("p",{children:"Loading orders..."})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"w-full overflow-x-auto",children:(0,l.jsxs)("div",{className:"min-w-[770px]",children:[e.length>0&&(0,l.jsxs)("div",{className:"items-center justify-between py-4.5 px-7.5 hidden md:flex ",children:[(0,l.jsx)("div",{className:"min-w-[111px]",children:(0,l.jsx)("p",{className:"text-custom-sm text-dark",children:"Order"})}),(0,l.jsx)("div",{className:"min-w-[175px]",children:(0,l.jsx)("p",{className:"text-custom-sm text-dark",children:"Date"})}),(0,l.jsx)("div",{className:"min-w-[128px]",children:(0,l.jsx)("p",{className:"text-custom-sm text-dark",children:"Status"})}),(0,l.jsx)("div",{className:"min-w-[213px]",children:(0,l.jsx)("p",{className:"text-custom-sm text-dark",children:"Title"})}),(0,l.jsx)("div",{className:"min-w-[113px]",children:(0,l.jsx)("p",{className:"text-custom-sm text-dark",children:"Total"})}),(0,l.jsx)("div",{className:"min-w-[113px]",children:(0,l.jsx)("p",{className:"text-custom-sm text-dark",children:"Action"})})]}),e.length>0?e.map((e,s)=>(0,l.jsx)(h,{orderItem:e,smallView:!1},e._id||s)):(0,l.jsx)("p",{className:"py-9.5 px-4 sm:px-7.5 xl:px-10",children:"You don't have any orders!"})]})})})};a(3386);let g=()=>{let[e,s]=(0,t.useState)("orders"),[a,i]=(0,t.useState)(!1),x=localStorage.getItem("customerDetails"),m=x?JSON.parse(x):null,[u,h]=(0,t.useState)({oldPassword:"",newPassword:"",confirmNewPassword:""}),g=e=>{h({...u,[e.target.name]:e.target.value})},v=async e=>{e.preventDefault();let s=localStorage.getItem("customerDetails"),a=s?JSON.parse(s):null;if(!(null==a?void 0:a._id))return alert("Customer not logged in.");try{let e=await d.A.put("".concat(n.C1,"/customer/update-password/").concat(a._id),u);alert(e.data.message),h({oldPassword:"",newPassword:"",confirmNewPassword:""})}catch(e){var l,t;c().fire({icon:"error",title:"Oops...",text:(null===(t=e.response)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.message)||"Something went wrong"})}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.A,{title:"My Account",pages:["my account"]}),(0,l.jsx)("section",{className:"overflow-hidden py-20 bg-gray-2",children:(0,l.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0",children:(0,l.jsxs)("div",{className:"flex flex-col xl:flex-row gap-7.5",children:[(0,l.jsx)("div",{className:"xl:max-w-[370px] w-full bg-white rounded-xl shadow-1",children:(0,l.jsxs)("div",{className:"flex xl:flex-col",children:[(0,l.jsxs)("div",{className:"hidden lg:flex flex-wrap items-center gap-5 py-6 px-4 sm:px-7.5 xl:px-9 border-r xl:border-r-0 xl:border-b border-gray-3",children:[(0,l.jsx)("div",{className:"max-w-[64px] w-full h-16 rounded-full overflow-hidden",children:(0,l.jsx)("img",{src:"https://img.freepik.com/free-vector/businessman-character-avatar-isolated_24877-60111.jpg?w=2000",alt:"user",width:64,height:64})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-dark mb-0.5",children:null==m?void 0:m.name}),(0,l.jsx)("p",{className:"text-custom-xs",children:null==m?void 0:m.email})]})]}),(0,l.jsx)("div",{className:"p-4 sm:p-7.5 xl:p-9",children:(0,l.jsxs)("div",{className:"flex flex-wrap xl:flex-nowrap xl:flex-col gap-4",children:[(0,l.jsxs)("button",{onClick:()=>s("orders"),className:"flex items-center rounded-md gap-2.5 py-3 px-4.5 ease-out duration-200 hover:bg-blue hover:text-white ".concat("orders"===e?"text-white bg-blue":"text-dark-2 bg-gray-1"),children:[(0,l.jsx)("i",{className:"bi bi-basket"}),"Orders"]}),(0,l.jsxs)("button",{onClick:()=>s("addresses"),className:"flex items-center rounded-md gap-2.5 py-3 px-4.5 ease-out duration-200 hover:bg-blue hover:text-white ".concat("addresses"===e?"text-white bg-blue":"text-dark-2 bg-gray-1"),children:[(0,l.jsx)("i",{className:"bi bi-person"}),"Account Details"]}),(0,l.jsxs)("button",{onClick:()=>s("account-details"),className:"flex items-center rounded-md gap-2.5 py-3 px-4.5 ease-out duration-200 hover:bg-blue hover:text-white ".concat("account-details"===e?"text-white bg-blue":"text-dark-2 bg-gray-1"),children:[(0,l.jsx)("i",{className:"bi bi-key"}),"Password"]}),(0,l.jsxs)("button",{onClick:()=>{localStorage.clear(),window.location.href="/signin"},className:"flex items-center rounded-md gap-2.5 py-3 px-4.5 ease-out duration-200 hover:bg-blue hover:text-white ".concat("logout"===e?"text-white bg-blue":"text-dark-2 bg-gray-1"),children:[(0,l.jsx)("i",{className:"bi bi-box-arrow-left"}),"Logout"]})]})})]})}),(0,l.jsx)("div",{className:"xl:max-w-[770px] w-full bg-white rounded-xl shadow-1 ".concat("orders"===e?"block":"hidden"),children:(0,l.jsx)(p,{})}),(0,l.jsx)("div",{className:"xl:max-w-[770px] w-full bg-white rounded-xl shadow-1 ".concat("addresses"===e?"flex":"hidden"),children:(0,l.jsxs)("div",{className:" w-full bg-white shadow-1 rounded-xl",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between py-5 px-4 sm:pl-7.5 sm:pr-6 border-b border-gray-3",children:[(0,l.jsx)("p",{className:"font-medium text-xl text-dark",children:"Account Details"}),(0,l.jsx)("button",{className:"text-dark ease-out duration-200 hover:text-blue",onClick:()=>{i(!0)},children:(0,l.jsx)("i",{className:"bi bi-pencil-square"})})]}),(0,l.jsx)("div",{className:"p-4 sm:p-7.5",style:{width:"100%"},children:(0,l.jsxs)("div",{className:"flex flex-col gap-4",style:{width:"100%"},children:[(0,l.jsxs)("p",{className:"flex items-center gap-2.5 text-custom-sm",children:[(0,l.jsx)("i",{className:"bi bi-person"}),"Name: ",null==m?void 0:m.name]}),(0,l.jsxs)("p",{className:"flex items-center gap-2.5 text-custom-sm",children:[(0,l.jsx)("i",{className:"bi bi-envelope"}),"Email: ",null==m?void 0:m.email]}),(0,l.jsxs)("p",{className:"flex items-center gap-2.5 text-custom-sm",children:[(0,l.jsx)("i",{className:"bi bi-telephone"}),"Phone: ",null==m?void 0:m.phone]}),(null==m?void 0:m.address)&&(0,l.jsxs)("p",{className:"flex gap-2.5 text-custom-sm",children:[(0,l.jsx)("i",{className:"bi bi-geo-alt"}),"Address:",m.address]})]})})]})}),(0,l.jsx)("div",{className:"xl:max-w-[770px] w-full ".concat("account-details"===e?"block":"hidden"),children:(0,l.jsxs)("form",{onSubmit:v,children:[(0,l.jsx)("p",{className:"font-medium text-xl sm:text-2xl text-dark mb-7",children:"Password Change"}),(0,l.jsxs)("div",{className:"bg-white shadow-1 rounded-xl p-4 sm:p-8.5",children:[(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("label",{htmlFor:"oldPassword",className:"block mb-2.5",children:"Old Password"}),(0,l.jsx)("input",{type:"password",name:"oldPassword",id:"oldPassword",value:u.oldPassword,onChange:g,autoComplete:"on",className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("label",{htmlFor:"newPassword",className:"block mb-2.5",children:"New Password"}),(0,l.jsx)("input",{type:"password",name:"newPassword",id:"newPassword",value:u.newPassword,onChange:g,autoComplete:"on",className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("label",{htmlFor:"confirmNewPassword",className:"block mb-2.5",children:"Confirm New Password"}),(0,l.jsx)("input",{type:"password",name:"confirmNewPassword",id:"confirmNewPassword",value:u.confirmNewPassword,onChange:g,autoComplete:"on",className:"rounded-md border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-2.5 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20"})]}),(0,l.jsx)("button",{type:"submit",className:"inline-flex font-medium text-white bg-blue py-3 px-7 rounded-md ease-out duration-200 hover:bg-blue-dark",children:"Change Password"})]})]})})]})})}),(0,l.jsx)(o,{isOpen:a,closeModal:()=>{i(!1)}})]})}},4514:(e,s,a)=>{"use strict";a.d(s,{C1:()=>t,Fe:()=>n,Gb:()=>d,L8:()=>c,Sh:()=>o,Ws:()=>h,bX:()=>i,cu:()=>r,gI:()=>m,j0:()=>p,j_:()=>g,s2:()=>u,z5:()=>x});var l=a(3464);let t="https://api.sstappstore.in",r=async()=>(await l.A.get("".concat(t,"/customerorder/bestselling-packages"))).data,d=async e=>(await l.A.get("".concat(t,"/customerorder/").concat(e))).data,n=async e=>{try{return(await l.A.get("".concat(t,"/subcategory/package/").concat(e))).data}catch(e){throw console.error("Error fetching package with products:",e),e}},i=async e=>(await l.A.get("".concat(t,"/subcategory/").concat(e))).data,c=async e=>(await l.A.get("".concat(t,"/customercart/").concat(e))).data,o=async e=>(await l.A.post("".concat(t,"/customer/login"),e)).data,x=async e=>(await l.A.post("".concat(t,"/customer"),e)).data,m=async()=>(await l.A.get("".concat(t,"/subcategory"))).data.filter(e=>e.isActive),u=async()=>(await l.A.get("".concat(t,"/banner"))).data,h=async()=>(await l.A.get("".concat(t,"/logo"))).data,p=async()=>(await l.A.get("".concat(t,"/product"))).data,g=async()=>(await l.A.get("".concat(t,"/subcategory/allpackage"))).data},4653:(e,s,a)=>{"use strict";a.d(s,{A:()=>d});var l=a(5155),t=a(6874),r=a.n(t);a(2115);let d=e=>{let{title:s,pages:a}=e;return(0,l.jsx)("div",{className:"overflow-hidden shadow-breadcrumb pt-[209px] sm:pt-[155px] lg:pt-[95px] xl:pt-[165px]",children:(0,l.jsx)("div",{className:"border-t border-gray-3",children:(0,l.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0 py-5 xl:py-10",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,l.jsx)("h1",{className:"font-semibold text-dark text-xl sm:text-2xl xl:text-custom-2",children:s}),(0,l.jsxs)("ul",{className:"flex items-center gap-2",children:[(0,l.jsx)("li",{className:"text-custom-sm hover:text-blue",children:(0,l.jsx)(r(),{href:"/",children:"Home /"})}),a.length>0&&a.map((e,s)=>(0,l.jsx)("li",{className:"text-custom-sm last:text-blue capitalize",children:e},s))]})]})})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[675,320,874,464,441,684,358],()=>s(479)),_N_E=e.O()}]);