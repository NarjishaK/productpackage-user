(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{1584:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(5155),s=r(4653),o=r(4514),n=r(6874),i=r.n(n),l=r(2115),c=r(4752),d=r.n(c);let u=()=>{let[e,t]=(0,l.useState)(1),[r,n]=(0,l.useState)(!1),[c,u]=(0,l.useState)({email:"",otp:"",newPassword:"",confirmPassword:""}),m=e=>{let{name:t,value:r}=e.target;u(e=>({...e,[t]:r}))},x=async e=>{if(e.preventDefault(),!c.email){d().fire({icon:"error",title:"Error",text:"Please enter your email address!"});return}n(!0);try{let e=await fetch("".concat(o.C1,"/customer/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email})}),r=await e.json();e.ok?(d().fire({icon:"success",title:"OTP Sent!",text:"Please check your email for the OTP code."}),t(2)):d().fire({icon:"error",title:"Error",text:r.message||"Failed to send OTP. Please try again."})}catch(e){console.error("Error sending OTP:",e),d().fire({icon:"error",title:"Error",text:"Network error. Please try again."})}finally{n(!1)}},p=async e=>{if(e.preventDefault(),!c.otp){d().fire({icon:"error",title:"Error",text:"Please enter the OTP code!"});return}n(!0);try{let e=await fetch("".concat(o.C1,"/customer/verify-otp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,otp:c.otp})}),r=await e.json();e.ok?(d().fire({icon:"success",title:"OTP Verified!",text:"Now you can reset your password."}),t(3)):d().fire({icon:"error",title:"Error",text:r.message||"Invalid OTP. Please try again."})}catch(e){console.error("Error verifying OTP:",e),d().fire({icon:"error",title:"Error",text:"Network error. Please try again."})}finally{n(!1)}},f=async e=>{if(e.preventDefault(),!c.newPassword||!c.confirmPassword){d().fire({icon:"error",title:"Error",text:"Please fill in both password fields!"});return}if(c.newPassword!==c.confirmPassword){d().fire({icon:"error",title:"Error",text:"Passwords do not match!"});return}if(c.newPassword.length<6){d().fire({icon:"error",title:"Error",text:"Password must be at least 6 characters long!"});return}n(!0);try{let e=await fetch("".concat(o.C1,"/customer/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,newPassword:c.newPassword})}),t=await e.json();e.ok?d().fire({icon:"success",title:"Success!",text:"Your password has been reset successfully!"}).then(()=>{window.location.href="/signin"}):d().fire({icon:"error",title:"Error",text:t.message||"Failed to reset password. Please try again."})}catch(e){console.error("Error resetting password:",e),d().fire({icon:"error",title:"Error",text:"Network error. Please try again."})}finally{n(!1)}},g=()=>{switch(e){case 1:return"Enter your email to receive an OTP";case 2:return"Enter the OTP sent to your email";case 3:return"Enter your new password";default:return""}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{title:"Forgot Password",pages:["Forgot Password"]}),(0,a.jsx)("section",{className:"overflow-hidden py-20 bg-gray-2",children:(0,a.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0",children:(0,a.jsxs)("div",{className:"max-w-[570px] w-full mx-auto rounded-xl bg-white shadow-1 p-4 sm:p-7.5 xl:p-11",children:[(0,a.jsxs)("div",{className:"text-center mb-11",children:[(0,a.jsx)("h2",{className:"font-semibold text-xl sm:text-2xl xl:text-heading-5 text-dark mb-1.5",children:(()=>{switch(e){case 1:default:return"Forgot Password";case 2:return"Verify OTP";case 3:return"Reset Password"}})()}),g()&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:g()}),(0,a.jsx)("div",{className:"flex justify-center mt-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(e>=1?"bg-blue text-white":"bg-gray-200 text-gray-500"),children:"1"}),(0,a.jsx)("div",{className:"w-6 h-0.5 ".concat(e>=2?"bg-blue":"bg-gray-200")}),(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(e>=2?"bg-blue text-white":"bg-gray-200 text-gray-500"),children:"2"}),(0,a.jsx)("div",{className:"w-6 h-0.5 ".concat(e>=3?"bg-blue":"bg-gray-200")}),(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(e>=3?"bg-blue text-white":"bg-gray-200 text-gray-500"),children:"3"})]})})]}),(0,a.jsxs)("div",{children:[(()=>{switch(e){case 1:return(0,a.jsxs)("form",{onSubmit:x,children:[(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsx)("input",{type:"email",name:"email",value:c.email,onChange:m,placeholder:"Enter your email",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",required:!0})}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"w-full flex justify-center font-medium text-white bg-dark py-3 px-6 rounded-lg ease-out duration-200 hover:bg-blue disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Sending...":"Send OTP to Email"})]});case 2:return(0,a.jsxs)("form",{onSubmit:p,children:[(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["OTP has been sent to: ",(0,a.jsx)("strong",{children:c.email})]}),(0,a.jsx)("input",{type:"text",name:"otp",value:c.otp,onChange:m,placeholder:"Enter OTP code",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"w-full flex justify-center font-medium text-white bg-dark py-3 px-6 rounded-lg ease-out duration-200 hover:bg-blue disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Verifying...":"Verify OTP"}),(0,a.jsx)("button",{type:"button",onClick:()=>t(1),className:"w-full mt-3 text-sm text-gray-600 hover:text-blue",children:"← Back to email verification"})]});case 3:return(0,a.jsxs)("form",{onSubmit:f,children:[(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsx)("input",{type:"password",name:"newPassword",value:c.newPassword,onChange:m,placeholder:"Enter new password",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",required:!0})}),(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsx)("input",{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:m,placeholder:"Confirm new password",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",required:!0})}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"w-full flex justify-center font-medium text-white bg-dark py-3 px-6 rounded-lg ease-out duration-200 hover:bg-blue disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Resetting...":"Reset Password"})]});default:return null}})(),(0,a.jsxs)("p",{className:"text-center mt-6",children:["Remember your password?",(0,a.jsx)(i(),{href:"/signin",className:"text-dark ease-out duration-200 hover:text-blue pl-2",children:"Sign In"})]})]})]})})})]})}},4514:(e,t,r)=>{"use strict";r.d(t,{C1:()=>s,Fe:()=>i,Gb:()=>n,L8:()=>c,Sh:()=>d,Ws:()=>p,bX:()=>l,cu:()=>o,gI:()=>m,j0:()=>f,j_:()=>g,s2:()=>x,z5:()=>u});var a=r(3464);let s="https://api.sstappstore.in",o=async()=>(await a.A.get("".concat(s,"/customerorder/bestselling-packages"))).data,n=async e=>(await a.A.get("".concat(s,"/customerorder/").concat(e))).data,i=async e=>{try{return(await a.A.get("".concat(s,"/subcategory/package/").concat(e))).data}catch(e){throw console.error("Error fetching package with products:",e),e}},l=async e=>(await a.A.get("".concat(s,"/subcategory/").concat(e))).data,c=async e=>(await a.A.get("".concat(s,"/customercart/").concat(e))).data,d=async e=>(await a.A.post("".concat(s,"/customer/login"),e)).data,u=async e=>(await a.A.post("".concat(s,"/customer"),e)).data,m=async()=>(await a.A.get("".concat(s,"/subcategory"))).data.filter(e=>e.isActive),x=async()=>(await a.A.get("".concat(s,"/banner"))).data,p=async()=>(await a.A.get("".concat(s,"/logo"))).data,f=async()=>(await a.A.get("".concat(s,"/product"))).data,g=async()=>(await a.A.get("".concat(s,"/subcategory/allpackage"))).data},4653:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(5155),s=r(6874),o=r.n(s);r(2115);let n=e=>{let{title:t,pages:r}=e;return(0,a.jsx)("div",{className:"overflow-hidden shadow-breadcrumb pt-[209px] sm:pt-[155px] lg:pt-[95px] xl:pt-[165px]",children:(0,a.jsx)("div",{className:"border-t border-gray-3",children:(0,a.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0 py-5 xl:py-10",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,a.jsx)("h1",{className:"font-semibold text-dark text-xl sm:text-2xl xl:text-custom-2",children:t}),(0,a.jsxs)("ul",{className:"flex items-center gap-2",children:[(0,a.jsx)("li",{className:"text-custom-sm hover:text-blue",children:(0,a.jsx)(o(),{href:"/",children:"Home /"})}),r.length>0&&r.map((e,t)=>(0,a.jsx)("li",{className:"text-custom-sm last:text-blue capitalize",children:e},t))]})]})})})})}},7391:(e,t,r)=>{Promise.resolve().then(r.bind(r,1584))}},e=>{var t=t=>e(e.s=t);e.O(0,[320,874,464,441,684,358],()=>t(7391)),_N_E=e.O()}]);