(()=>{var e={};e.id=566,e.ids=[566],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13308:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/narjisha/Desktop/package-user/src/components/Auth/Forgetpassword/index.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/narjisha/Desktop/package-user/src/components/Auth/Forgetpassword/index.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43089:(e,r,t)=>{Promise.resolve().then(t.bind(t,60570))},52817:(e,r,t)=>{Promise.resolve().then(t.bind(t,13308))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},60570:(e,r,t)=>{"use strict";t.d(r,{default:()=>c});var s=t(60687),o=t(75867),a=t(77618),i=t(85814),n=t.n(i),l=t(43210),d=t(77567);let c=()=>{let[e,r]=(0,l.useState)(1),[t,i]=(0,l.useState)(!1),[c,u]=(0,l.useState)({email:"",otp:"",newPassword:"",confirmPassword:""}),p=e=>{let{name:r,value:t}=e.target;u(e=>({...e,[r]:t}))},x=async e=>{if(e.preventDefault(),!c.email){d.A.fire({icon:"error",title:"Error",text:"Please enter your email address!"});return}i(!0);try{let e=await fetch(`${a.C1}/customer/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email})}),t=await e.json();e.ok?(d.A.fire({icon:"success",title:"OTP Sent!",text:"Please check your email for the OTP code."}),r(2)):d.A.fire({icon:"error",title:"Error",text:t.message||"Failed to send OTP. Please try again."})}catch(e){console.error("Error sending OTP:",e),d.A.fire({icon:"error",title:"Error",text:"Network error. Please try again."})}finally{i(!1)}},m=async e=>{if(e.preventDefault(),!c.otp){d.A.fire({icon:"error",title:"Error",text:"Please enter the OTP code!"});return}i(!0);try{let e=await fetch(`${a.C1}/customer/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,otp:c.otp})}),t=await e.json();e.ok?(d.A.fire({icon:"success",title:"OTP Verified!",text:"Now you can reset your password."}),r(3)):d.A.fire({icon:"error",title:"Error",text:t.message||"Invalid OTP. Please try again."})}catch(e){console.error("Error verifying OTP:",e),d.A.fire({icon:"error",title:"Error",text:"Network error. Please try again."})}finally{i(!1)}},f=async e=>{if(e.preventDefault(),!c.newPassword||!c.confirmPassword){d.A.fire({icon:"error",title:"Error",text:"Please fill in both password fields!"});return}if(c.newPassword!==c.confirmPassword){d.A.fire({icon:"error",title:"Error",text:"Passwords do not match!"});return}if(c.newPassword.length<6){d.A.fire({icon:"error",title:"Error",text:"Password must be at least 6 characters long!"});return}i(!0);try{let e=await fetch(`${a.C1}/customer/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,newPassword:c.newPassword})}),r=await e.json();e.ok?d.A.fire({icon:"success",title:"Success!",text:"Your password has been reset successfully!"}).then(()=>{window.location.href="/signin"}):d.A.fire({icon:"error",title:"Error",text:r.message||"Failed to reset password. Please try again."})}catch(e){console.error("Error resetting password:",e),d.A.fire({icon:"error",title:"Error",text:"Network error. Please try again."})}finally{i(!1)}},h=()=>{switch(e){case 1:return"Enter your email to receive an OTP";case 2:return"Enter the OTP sent to your email";case 3:return"Enter your new password";default:return""}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{title:"Forgot Password",pages:["Forgot Password"]}),(0,s.jsx)("section",{className:"overflow-hidden py-20 bg-gray-2",children:(0,s.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0",children:(0,s.jsxs)("div",{className:"max-w-[570px] w-full mx-auto rounded-xl bg-white shadow-1 p-4 sm:p-7.5 xl:p-11",children:[(0,s.jsxs)("div",{className:"text-center mb-11",children:[(0,s.jsx)("h2",{className:"font-semibold text-xl sm:text-2xl xl:text-heading-5 text-dark mb-1.5",children:(()=>{switch(e){case 1:default:return"Forgot Password";case 2:return"Verify OTP";case 3:return"Reset Password"}})()}),h()&&(0,s.jsx)("p",{className:"text-sm text-gray-600",children:h()}),(0,s.jsx)("div",{className:"flex justify-center mt-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e>=1?"bg-blue text-white":"bg-gray-200 text-gray-500"}`,children:"1"}),(0,s.jsx)("div",{className:`w-6 h-0.5 ${e>=2?"bg-blue":"bg-gray-200"}`}),(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e>=2?"bg-blue text-white":"bg-gray-200 text-gray-500"}`,children:"2"}),(0,s.jsx)("div",{className:`w-6 h-0.5 ${e>=3?"bg-blue":"bg-gray-200"}`}),(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e>=3?"bg-blue text-white":"bg-gray-200 text-gray-500"}`,children:"3"})]})})]}),(0,s.jsxs)("div",{children:[(()=>{switch(e){case 1:return(0,s.jsxs)("form",{onSubmit:x,children:[(0,s.jsx)("div",{className:"mb-5",children:(0,s.jsx)("input",{type:"email",name:"email",value:c.email,onChange:p,placeholder:"Enter your email",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",required:!0})}),(0,s.jsx)("button",{type:"submit",disabled:t,className:"w-full flex justify-center font-medium text-white bg-dark py-3 px-6 rounded-lg ease-out duration-200 hover:bg-blue disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Sending...":"Send OTP to Email"})]});case 2:return(0,s.jsxs)("form",{onSubmit:m,children:[(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["OTP has been sent to: ",(0,s.jsx)("strong",{children:c.email})]}),(0,s.jsx)("input",{type:"text",name:"otp",value:c.otp,onChange:p,placeholder:"Enter OTP code",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:t,className:"w-full flex justify-center font-medium text-white bg-dark py-3 px-6 rounded-lg ease-out duration-200 hover:bg-blue disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Verifying...":"Verify OTP"}),(0,s.jsx)("button",{type:"button",onClick:()=>r(1),className:"w-full mt-3 text-sm text-gray-600 hover:text-blue",children:"← Back to email verification"})]});case 3:return(0,s.jsxs)("form",{onSubmit:f,children:[(0,s.jsx)("div",{className:"mb-5",children:(0,s.jsx)("input",{type:"password",name:"newPassword",value:c.newPassword,onChange:p,placeholder:"Enter new password",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",required:!0})}),(0,s.jsx)("div",{className:"mb-5",children:(0,s.jsx)("input",{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:p,placeholder:"Confirm new password",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",required:!0})}),(0,s.jsx)("button",{type:"submit",disabled:t,className:"w-full flex justify-center font-medium text-white bg-dark py-3 px-6 rounded-lg ease-out duration-200 hover:bg-blue disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Resetting...":"Reset Password"})]});default:return null}})(),(0,s.jsxs)("p",{className:"text-center mt-6",children:["Remember your password?",(0,s.jsx)(n(),{href:"/signin",className:"text-dark ease-out duration-200 hover:text-blue pl-2",children:"Sign In"})]})]})]})})})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65840:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i,metadata:()=>a});var s=t(37413),o=t(13308);t(61120);let a={title:"Signup Page | Deelzon Package Booking",description:"This is Signup Page for Deelzon Package Booking"},i=()=>(0,s.jsx)("main",{children:(0,s.jsx)(o.default,{})})},74075:e=>{"use strict";e.exports=require("zlib")},75867:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(60687),o=t(85814),a=t.n(o);t(43210);let i=({title:e,pages:r})=>(0,s.jsx)("div",{className:"overflow-hidden shadow-breadcrumb pt-[209px] sm:pt-[155px] lg:pt-[95px] xl:pt-[165px]",children:(0,s.jsx)("div",{className:"border-t border-gray-3",children:(0,s.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0 py-5 xl:py-10",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,s.jsx)("h1",{className:"font-semibold text-dark text-xl sm:text-2xl xl:text-custom-2",children:e}),(0,s.jsxs)("ul",{className:"flex items-center gap-2",children:[(0,s.jsx)("li",{className:"text-custom-sm hover:text-blue",children:(0,s.jsx)(a(),{href:"/",children:"Home /"})}),r.length>0&&r.map((e,r)=>(0,s.jsx)("li",{className:"text-custom-sm last:text-blue capitalize",children:e},r))]})]})})})})},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83879:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=t(65239),o=t(48088),a=t(88170),i=t.n(a),n=t(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let d={children:["",{children:["(site)",{children:["(pages)",{children:["forgetpassword",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,65840)),"/Users/narjisha/Desktop/package-user/src/app/(site)/(pages)/forgetpassword/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,57374)),"/Users/narjisha/Desktop/package-user/src/app/(site)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/narjisha/Desktop/package-user/src/app/(site)/(pages)/forgetpassword/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(site)/(pages)/forgetpassword/page",pathname:"/forgetpassword",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,825,87,748],()=>t(83879));module.exports=s})();