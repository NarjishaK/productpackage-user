(()=>{var e={};e.id=776,e.ids=[776],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31538:(e,t,r)=>{Promise.resolve().then(r.bind(r,61605))},33873:e=>{"use strict";e.exports=require("path")},40118:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>i});var s=r(37413);r(61120);var a=r(61605);let i={title:"Deelzon Cart Page | Deelzon Package Booking ",description:" This is Deelzon Cart Page for – Seamless E-commerce Package Booking & Easy Claim Process"},n=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.default,{})})},46300:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var s=r(60687),a=r(43210),i=r(85814),n=r.n(i),l=r(77567);let c=({cartItems:e,totalPrice:t,useCustomerCart:r})=>{let a=()=>{try{let e=localStorage.getItem("customerDetails");return e&&JSON.parse(e)}catch(e){return console.error("Error parsing customer details:",e),null}},i=async e=>{if(!a()){e.preventDefault(),(await l.A.fire({title:"First Signup Required!",text:"You need to signup before proceeding to checkout.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Go to Signup",cancelButtonText:"Cancel",reverseButtons:!0})).isConfirmed&&(window.location.href="/signin");return}};return(0,s.jsx)("div",{className:"lg:max-w-[670px] w-full",children:(0,s.jsxs)("div",{className:"bg-white shadow-1 rounded-[10px]",children:[(0,s.jsx)("div",{className:"border-b border-gray-3 py-5 px-4 sm:px-8.5",children:(0,s.jsx)("h3",{className:"font-medium text-xl text-dark",children:"Order Summary"})}),(0,s.jsxs)("div",{className:"pt-2.5 pb-8.5 px-4 sm:px-8.5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between py-5 border-b border-gray-3",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h4",{className:"font-medium text-dark",children:"Product"})}),(0,s.jsx)("div",{children:(0,s.jsx)("h4",{className:"font-medium text-dark text-right",children:"Subtotal"})})]}),e.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between py-5 border-b border-gray-3",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-dark",children:[r?e.packageId?.packagename:e.packagename,e.quantity&&` x ${e.quantity}`]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-dark text-right",children:["₹",r?e.packageId?.price*e.quantity:e.price*e.quantity]})})]},t)),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-5",children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"font-medium text-lg text-dark",children:"Total"})}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"font-medium text-lg text-dark text-right",children:["₹",t]})})]}),(0,s.jsx)(n(),{href:"/checkout",onClick:i,children:(0,s.jsx)("button",{type:"button",className:"w-full flex justify-center font-medium text-white bg-blue py-3 px-6 rounded-md ease-out duration-200 hover:bg-blue-dark mt-7.5",children:"Process to Checkout"})})]})]})})};var d=r(32065),o=r(54864);r(18334);var x=r(49725),u=r(77618);let p=({item:e})=>{let[t,r]=(0,a.useState)(e.quantity),i=(0,o.wA)(),l=()=>{i((0,x.I1)(e._id))},c=async()=>{let s=t+1;r(s);try{await fetch(`${u.C1}/customercart/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:s})}),i((0,x.AR)({_id:e._id,quantity:s}))}catch(e){console.error("Failed to update quantity",e)}},d=async()=>{if(t>1){let s=t-1;r(s);try{await fetch(`${u.C1}/customercart/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:s})}),i((0,x.AR)({_id:e._id,quantity:s}))}catch(e){console.error("Failed to update quantity",e)}}};return(0,s.jsxs)("div",{className:"flex items-center border-t border-gray-3 py-5 px-7.5",children:[(0,s.jsx)("div",{className:"min-w-[400px]",children:(0,s.jsx)("div",{className:"flex items-center justify-between gap-5",children:(0,s.jsxs)("div",{className:"w-full flex items-center gap-5.5",children:[(0,s.jsx)("div",{className:"flex items-center justify-center rounded-[5px] bg-gray-2 max-w-[80px] w-full h-17.5",children:(0,s.jsx)(n(),{href:`/shop-details/${e.id||e?.packageId?._id}`,children:(0,s.jsx)("img",{width:200,height:200,src:`${u.C1}/images/${e.image||`${e.packageId.image}`}`,alt:"product"})})}),(0,s.jsx)("div",{children:(0,s.jsx)("h3",{className:"text-dark ease-out duration-200 hover:text-blue",children:(0,s.jsxs)(n(),{href:`/shop-details/${e.id||e?.packageId?._id}`,children:[e.packagename||e.packageId.packagename," "]})})})]})})}),(0,s.jsx)("div",{className:"min-w-[180px]",children:(0,s.jsxs)("p",{className:"text-dark",children:["₹",e.price||e.packageId.price]})}),(0,s.jsx)("div",{className:"min-w-[275px]",children:(0,s.jsxs)("div",{className:"w-max flex items-center rounded-md border border-gray-3",children:[(0,s.jsx)("button",{onClick:()=>d(),"aria-label":"button for remove product",className:"flex items-center justify-center w-11.5 h-11.5 ease-out duration-200 hover:text-blue",children:(0,s.jsx)("i",{className:"bi bi-dash text-blue-900"})}),(0,s.jsx)("span",{className:"flex items-center justify-center w-16 h-11.5 border-x border-gray-4",children:t}),(0,s.jsx)("button",{onClick:()=>c(),"aria-label":"button for add product",className:"flex items-center justify-center w-11.5 h-11.5 ease-out duration-200 hover:text-blue",children:(0,s.jsx)("i",{className:"bi bi-plus text-blue-900"})})]})}),(0,s.jsx)("div",{className:"min-w-[200px]",children:(0,s.jsxs)("p",{className:"text-dark",children:["₹",e.price*t||e.packageId.price*t]})}),(0,s.jsx)("div",{className:"min-w-[50px] flex justify-end",children:(0,s.jsx)("button",{onClick:()=>l(),"aria-label":"button for remove product from cart",className:"flex items-center justify-center rounded-lg max-w-[38px] w-full h-9.5 bg-gray-2 border border-gray-3 text-dark ease-out duration-200 hover:bg-red-light-6 hover:border-red-light-4 hover:text-red",children:(0,s.jsx)("i",{className:"bi bi-trash text-blue-900"})})})]})};var m=r(75867),h=r(75385);let f=()=>{let e=(0,d.G)(e=>e.cartReducer.items),t=(0,o.d4)(x.ge),[r,i]=(0,a.useState)([]),[n,l]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!0),[g,b]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=localStorage.getItem("customerDetails"),t=e?JSON.parse(e):null,r=t?._id||t?.id;r?(l(!0),(0,u.L8)(r).then(e=>{i(e),b(e.reduce((e,t)=>e+t?.packageId?.price*t.quantity,0))}).catch(e=>{console.error("Failed to fetch customer cart",e)}).finally(()=>{j(!1)})):(l(!1),j(!1))},[]);let v=n?r:e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("section",{children:(0,s.jsx)(m.A,{title:"Cart",pages:["Cart"]})}),v.length>0||f?(0,s.jsx)("section",{className:"overflow-hidden py-20 bg-gray-2",children:(0,s.jsxs)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-5 mb-7.5",children:[(0,s.jsx)("h2",{className:"font-medium text-dark text-2xl",children:"Your Cart"}),(0,s.jsx)("button",{className:"text-blue",children:"Clear Shopping Cart"})]}),(0,s.jsx)("div",{className:"bg-white rounded-[10px] shadow-1",children:(0,s.jsx)("div",{className:"w-full overflow-x-auto",children:(0,s.jsxs)("div",{className:"min-w-[1170px]",children:[(0,s.jsxs)("div",{className:"flex items-center py-5.5 px-7.5",children:[(0,s.jsx)("div",{className:"min-w-[400px]",children:(0,s.jsx)("p",{className:"text-dark",children:"Product"})}),(0,s.jsx)("div",{className:"min-w-[180px]",children:(0,s.jsx)("p",{className:"text-dark",children:"Price"})}),(0,s.jsx)("div",{className:"min-w-[275px]",children:(0,s.jsx)("p",{className:"text-dark",children:"Quantity"})}),(0,s.jsx)("div",{className:"min-w-[200px]",children:(0,s.jsx)("p",{className:"text-dark",children:"Subtotal"})}),(0,s.jsx)("div",{className:"min-w-[50px]",children:(0,s.jsx)("p",{className:"text-dark text-right",children:"Action"})})]}),f?(0,s.jsx)("p",{className:"text-center py-4",children:"Loading cart..."}):v.length>0?v.map((e,t)=>(0,s.jsx)(p,{item:e},t)):(0,s.jsx)(s.Fragment,{children:" "})]})})}),(0,s.jsx)("div",{className:"flex flex-col lg:flex-row gap-7.5 xl:gap-11 mt-9",children:(0,s.jsx)(c,{cartItems:v,totalPrice:n?g:t,useCustomerCart:n})})]})}):(0,s.jsx)(h.A,{})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61605:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/narjisha/Desktop/package-user/src/components/Cart/index.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/narjisha/Desktop/package-user/src/components/Cart/index.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},75867:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(60687),a=r(85814),i=r.n(a);r(43210);let n=({title:e,pages:t})=>(0,s.jsx)("div",{className:"overflow-hidden shadow-breadcrumb pt-[209px] sm:pt-[155px] lg:pt-[95px] xl:pt-[165px]",children:(0,s.jsx)("div",{className:"border-t border-gray-3",children:(0,s.jsx)("div",{className:"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0 py-5 xl:py-10",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,s.jsx)("h1",{className:"font-semibold text-dark text-xl sm:text-2xl xl:text-custom-2",children:e}),(0,s.jsxs)("ul",{className:"flex items-center gap-2",children:[(0,s.jsx)("li",{className:"text-custom-sm hover:text-blue",children:(0,s.jsx)(i(),{href:"/",children:"Home /"})}),t.length>0&&t.map((e,t)=>(0,s.jsx)("li",{className:"text-custom-sm last:text-blue capitalize",children:e},t))]})]})})})})},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")},94746:(e,t,r)=>{Promise.resolve().then(r.bind(r,46300))},95275:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),l=r(30893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);r.d(t,c);let d={children:["",{children:["(site)",{children:["(pages)",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,40118)),"/Users/narjisha/Desktop/package-user/src/app/(site)/(pages)/cart/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,57374)),"/Users/narjisha/Desktop/package-user/src/app/(site)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["/Users/narjisha/Desktop/package-user/src/app/(site)/(pages)/cart/page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(site)/(pages)/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,825,87,748],()=>r(95275));module.exports=s})();